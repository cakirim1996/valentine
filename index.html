<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Valentine ðŸ’˜</title>

  <style>
    :root{
      --max: 520px;
      --yesScale: 1;
      --shake: 0deg;
      --noX: 0px;
      --noOpacity: 1;
      --bgA: 0;
    }

    *{ box-sizing:border-box; }
    html, body { height: 100%; }

    body{
      margin:0;
      background:#fff;
      color:#111;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      -webkit-font-smoothing: antialiased;
      overflow:hidden;
      position:relative;
    }

    /* Disco overlay */
    .disco{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:var(--bgA);
      transition:opacity .3s ease;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,0,150,.55), transparent 35%),
        radial-gradient(circle at 80% 20%, rgba(0,200,255,.50), transparent 40%),
        radial-gradient(circle at 70% 80%, rgba(255,230,0,.45), transparent 38%),
        radial-gradient(circle at 25% 75%, rgba(0,255,140,.45), transparent 40%);
      mix-blend-mode:screen;
      animation: discoMove 1.4s linear infinite;
    }

    @keyframes discoMove{
      0%{transform:translate(0,0)}
      50%{transform:translate(10px,-10px)}
      100%{transform:translate(0,0)}
    }

    .wrap{
      min-height:100svh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px 18px;
      position:relative;
      z-index:2;
    }

    .card{
      width:min(var(--max),100%);
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:14px;
    }

    .gif{
      width:min(320px,82vw);
      border-radius:16px;
      overflow:hidden;
      background:#f4f4f4;
      box-shadow:0 12px 40px rgba(0,0,0,.08);
    }

    .gif img{ width:100%; display:block; }

    h1{
      margin:0;
      font-size:22px;
      font-weight:800;
    }

    .msg{
      min-height:20px;
      font-size:14px;
      color:#444;
    }

    .buttons{
      display:flex;
      gap:12px;
      justify-content:center;
    }

    button{
      border:1px solid #111;
      background:#fff;
      padding:10px 16px;
      border-radius:999px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
    }

    #yesBtn{
      transform:scale(var(--yesScale)) rotate(var(--shake));
      transform-origin:center;
    }

    #noBtn{
      transform:translateX(var(--noX));
      opacity:var(--noOpacity);
      transition:transform .16s ease, opacity .18s ease;
    }

    #confetti{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:3;
      opacity:0;
      transition:.2s;
    }
    #confetti.on{opacity:1}
  </style>
</head>

<body>

<div class="disco"></div>
<canvas id="confetti"></canvas>

<main class="wrap">
  <section class="card">
    <div class="gif">
      <img id="gifImg" src="valentine.gif">
    </div>

    <h1 id="title">Will you be my valentine? ðŸ’˜</h1>
    <div class="msg" id="msg"></div>

    <div class="buttons">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>
  </section>
</main>

<script>
const root=document.documentElement;
const yesBtn=yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const msgEl=document.getElementById("msg");
const titleEl=document.getElementById("title");
const gifImg=document.getElementById("gifImg");

const START_GIF="valentine.gif";
const YES_GIF="yay.gif";

const noMessages=[
"Sicher? ðŸ¤¨",
"Du hast dich verdrÃ¼ckt ðŸ˜­",
"Ãœberleg nochmal ðŸ¥º",
"Das bricht mein Herz ðŸ’”",
"Letzte Chance ðŸ˜‡",
"No ist keine Option ðŸ˜Œ"
];

let yesScale=1,noClicks=0,noX=0;

/* shake */
function shake(){
let t=0;
const id=setInterval(()=>{
root.style.setProperty("--shake",(t%2?-3:3)+"deg");
if(++t>8){clearInterval(id);root.style.setProperty("--shake","0deg")}
},60);
}

noBtn.onclick=()=>{
noClicks++;
msgEl.textContent=noMessages[Math.min(noClicks-1,noMessages.length-1)];

noX+=Math.max(24,window.innerWidth*.08);
root.style.setProperty("--noX",noX+"px");

yesScale=Math.min(yesScale+.22,3.8);
root.style.setProperty("--yesScale",yesScale);
shake();

if(noX>window.innerWidth*.55){
root.style.setProperty("--noOpacity","0");
noBtn.style.pointerEvents="none";
}
};

/* -------- YES -------- */
yesBtn.onclick=()=>{
yesBtn.style.display="none";
noBtn.style.display="none";
msgEl.style.display="none";

titleEl.textContent="Best decision ever ðŸ˜­ðŸ’–";
gifImg.src=YES_GIF;

root.style.setProperty("--bgA","1");
startConfetti();
};

/* -------- CONFETTI -------- */
const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
let pieces=[];

function resize(){
canvas.width=innerWidth;
canvas.height=innerHeight;
}
resize();
addEventListener("resize",resize);

function spawn(){
pieces=[];
for(let i=0;i<180;i++){
pieces.push({
x:Math.random()*innerWidth,
y:Math.random()*-innerHeight,
vy:2+Math.random()*3,
vx:-2+Math.random()*4,
r:4+Math.random()*6,
c:`hsl(${Math.random()*360} 100% 60%)`
});
}
}

function draw(){
ctx.clearRect(0,0,innerWidth,innerHeight);
for(const p of pieces){
p.x+=p.vx;
p.y+=p.vy;
ctx.fillStyle=p.c;
ctx.fillRect(p.x,p.y,p.r,p.r);
if(p.y>innerHeight)p.y=-20;
}
requestAnimationFrame(draw);
}

function startConfetti(){
canvas.classList.add("on");
spawn();
draw();
setTimeout(()=>canvas.classList.remove("on"),4000);
}
</script>
</body>
</html>
